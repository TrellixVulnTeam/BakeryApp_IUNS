<EstoquePage>:
    name: 'estoque'
    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Bakery ABC"
        md_bg_color: toolbarColor

    MDBottomNavigation:
        size_hint_y: .09
        panel_color: get_color_from_hex("#DF6710")
        text_color_active: get_color_from_hex("#fff4e6")
        first_widget: 'screen 3'
        
        MDBottomNavigationItem:
            name: 'screen 1'
            text: 'Home'
            icon: 'home-circle'
            on_enter:
                root.manager.transition.direction = 'right'
                root.switchHome()

        MDBottomNavigationItem:
            name: 'screen 2'
            text: 'Estoque'
            icon: 'barcode'

        MDBottomNavigationItem:
            name: 'screen 3'
            text: 'Funcionarios'
            icon: 'account-group'
            on_enter: root.switchFuncionario()

    MDRectangleFlatIconButton:
        text : 'Cadastrar produto'
        icon : "basket-plus"
        pos_hint : {"center_x":.5,"center_y":.65}
        text_color : get_color_from_hex("#7E6B73")
        font_size : 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchCadastrar()

    MDRectangleFlatIconButton :
        text: 'Remover produto'
        icon: "basket-remove"
        pos_hint: {"center_x":.5,"center_y":.55}
        text_color: get_color_from_hex("#7E6B73")
        font_size: 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchRemover()

    MDRectangleFlatIconButton:
        text: 'Consultar produtos no estoque'
        icon: "magnify"
        pos_hint: {"center_x":.5,"center_y":.45}
        text_color: get_color_from_hex("#7E6B73")
        font_size: 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchConsultar()

    MDRectangleFlatIconButton:
        text : 'Atualizar estoque'
        icon : "basket"
        pos_hint : {"center_x":.5,"center_y":.35}
        text_color : get_color_from_hex("#7E6B73")
        font_size : 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchAtualizar()


<CadastrarProduto>:
    name: 'cadastrar_produto'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "NOVO PRODUTO"
        md_bg_color: get_color_from_hex("#854442")

    MDBoxLayout:
        orientation: "vertical"
        pos_hint: {'center_x': .5, 'center_y': .70}

        MDTextField:
            id: nome
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 50
            hint_text: 'Nome:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: cod_barras
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 15
            hint_text: 'Codigo de barras:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: fabricante
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 100
            hint_text: 'Nome do fabricamente:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: preco
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Preço: '
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: fabricacao
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Data de fabricação:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: vencimento
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Data de vencimento:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: categoria
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 50
            hint_text: 'Categoria:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: qtd_estoque
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Quantidade no estoque:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
                    
    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .25, 'center_y': .1}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CADASTRAR'
        on_press: root.cadastrar()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .75, 'center_y': .1}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchEstoque()


<RemoverProduto>:
    name: 'remover_produto'
    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "REMOVER PRODUTO"
        md_bg_color: get_color_from_hex("#854442")

    Label:
        pos_hint : {"center_x":.5,"center_y":.75}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Preencha o campo abaixo para\n realizar a remoção do produto.\nCaso não tenha seu código de barras,\nvocê poderá encontra-lo na página\nde ESTOQUE, em "Consultar produtos\nno estoque".'

    MDBoxLayout:
        orientation: "vertical"
        size_hint_x: .9
        size_hint_y: .8
        pos_hint: {'center_x': .5, 'center_y': .9}

        MDTextField:
            id: cod_barras
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 15
            hint_text: 'Código de barras do produto: '
            pos_hint: {'center_x': .5, 'center_y': .8}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .3, 'center_y': .40}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'REMOVER'
        on_press:
            root.remover()
            root.switchEstoque()
            root.manager.transition.direction = 'left'

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .7, 'center_y': .40}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchEstoque()


<ConsultarEstoque>:
    name: 'consultar_estoque'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "DADOS DO PRODUTO"
        md_bg_color: get_color_from_hex("#854442")

    Label:
        pos_hint : {"center_x":.5,"center_y":.75}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Preencha os dados do produto para\n realizar a busca. Caso não tenha um dos\n dados, apenas deixe o campo vazio.'

    MDTextField:
        id: cod_barras
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .6}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 15
        hint_text: 'Código de barras:'
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: nome
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .5}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 50
        hint_text: 'Nome do produto:'
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: nome_fabricante
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .4}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 100
        hint_text: 'Nome do fabricante: '
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: categoria
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .3}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 50
        hint_text: 'Categoria do produto: '
        text_color: get_color_from_hex("#000000")

    MDFloatingActionButton:
        icon: "arrow-left-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.2,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'right'
            root.switchEstoque()

    MDFloatingActionButton:
        icon: "arrow-right-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.8,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'left'
            root.buscar()
            root.switchTabelaEstoque()    


<TabelaBuscaEstoque>:
    name: 'tabela_busca_estoque'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "BUSCA - ESTOQUE"
        md_bg_color: get_color_from_hex("#854442")


<AtualizarEstoque>:
    name: 'atualizar_estoque'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "ATUALIZANDO PRODUTO"
        md_bg_color: get_color_from_hex("#854442")
        
    Label:
        pos_hint : {"center_x":.5,"center_y":.75}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Informe os dados do produto que\n se deseja atualizar. Caso não tenha\num dos dados, apenas deixe o\ncampo vazio.'

    MDBoxLayout:
        orientation: "vertical"
        size_hint_x: .9
        size_hint_y: .8
        pos_hint: {'center_x': .5, 'center_y': .9}

        MDTextField:
            id: cod_barras
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 15
            hint_text: 'Código de barras do produto: '
            pos_hint: {'center_x': .5, 'center_y': .8}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .3, 'center_y': .40}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'BUSCAR'
        on_press:
            root.recolherDados()
            root.switchAtualiza()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .7, 'center_y': .40}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchEstoque()


<AtualizarEstoque_2>:
    name: 'atualizar_estoque_2'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "ATUALIZANDO PRODUTO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.86}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Altere os dados do produto escolhido'

    MDBoxLayout:
        orientation: "vertical"
        size_hint_x: .9
        size_hint_y: .65
        pos_hint: {'center_x': .5, 'center_y': .5}

        MDTextField:
            id: nome
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 50
            hint_text: 'Nome do produto:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: cod_barras
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 15
            hint_text: 'Codigo de barras:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: fabricante
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 100
            hint_text: 'Nome do fabricamente:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: preco
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Preço: '
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: fabricacao
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Data de fabricação:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: vencimento
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Data de vencimento:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: categoria
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 50
            hint_text: 'Categoria:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: qtd_estoque
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Quantidade no estoque:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .3, 'center_y': .11}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'ATUALIZAR DADOS'
        on_press:
            root.atualizar()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .7, 'center_y': .11}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()
