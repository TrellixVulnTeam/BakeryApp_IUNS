<FuncionarioPage>:
    name: 'funcionario'
    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "Bakery ABC"
        md_bg_color: toolbarColor

    MDBottomNavigation:
        size_hint_y: .09
        panel_color: get_color_from_hex("#DF6710")
        text_color_active: get_color_from_hex("#fff4e6")
        first_widget: 'screen 3'
        
        MDBottomNavigationItem:
            name: 'screen 1'
            text: 'Home'
            icon: 'home-circle'
            on_enter:
                root.manager.transition.direction = 'right'
                root.switchHome()

        MDBottomNavigationItem:
            name: 'screen 2'
            text: 'Estoque'
            icon: 'barcode'
            on_enter: root.switchEstoque()

        MDBottomNavigationItem:
            name: 'screen 3'
            text: 'Funcionarios'
            icon: 'account-group'
            on_enter: root.switchFuncionario()
        
        MDBottomNavigationItem:
            name: 'screen 4'
            text: 'Vendas'
            icon: 'cash'
            on_enter: root.switchVendas()

    MDRectangleFlatIconButton:
        text : 'Buscar um funcionario'
        icon : "account-search"
        pos_hint : {"center_x":.5,"center_y":.65}
        text_color : get_color_from_hex("#7E6B73")
        font_size : 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchBuscar()

    MDRectangleFlatIconButton:
        text : 'Cadastrar um novo funcionario'
        icon : "account-plus"
        pos_hint : {"center_x":.5,"center_y":.55}
        text_color : get_color_from_hex("#7E6B73")
        font_size : 20
        user_font_size: "64sp"
        on_press:
            root.manager.transition.direction = 'left'
            root.switchCadastro()

    MDRectangleFlatIconButton:
        text: 'Remover um funcionario'
        icon: "account-minus"
        pos_hint:  {"center_x":.5,"center_y":.45}
        text_color: get_color_from_hex("#7E6B73")
        font_size: 20
        on_press:
            root.manager.transition.direction = 'left'
            root.switchRemover()

    MDRectangleFlatIconButton :
        text: 'Alterar dados de um funcionario'
        icon: "account-edit"
        pos_hint: {"center_x":.5,"center_y":.35}
        text_color: get_color_from_hex("#7E6B73")
        font_size: 20
        on_press :
            root.manager.transition.direction = 'left'
            root.switchAlterar()


<CadastrarFuncionario>:
    name: 'cadastrar_funcionario'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "NOVO FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.8}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Preencha todos campo abaixo para\n realizar o cadastro. Apenas o campo\n"data da última ferias" é opcional.'

    MDBoxLayout:
        orientation: "vertical"
        pos_hint: {'center_x': .5, 'center_y': .7}

        MDTextField:
            id: nome
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 70
            hint_text: 'Nome:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: cpf
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 11
            hint_text: 'CPF:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: salario
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Salario:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: ferias
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Data da última ferias: <dd-mm-aaaa>'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: codigo_estabelecimento
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Codigo do estabelecimento:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: senha
            multiline: False
            size_hint_x: .8
            max_text_length: 50
            mode: "rectangle"
            hint_text: 'Senha para realizar o login no app:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

    MDFloatingActionButton:
        icon: "arrow-left-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.2,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()

    MDFloatingActionButton:
        icon: "arrow-right-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.8,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'left'
            root.cadastrar()
                    

<CadastrarADM_AtenCaixa>:
    name: 'cadastrarADM_AtendCaixa'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "NOVO FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.8}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Todos os campos abaixo são opcionais.\nCaso uma resposta para a pergunta\nseja afirmativa, digite "SIM" e\nresponda os campos subsequentes.'

    MDBoxLayout:
        orientation: "vertical"
        pos_hint: {'center_x': .5, 'center_y': .8}

        MDTextField:
            id: adm
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: '1. É administrador? '
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: especialidade
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 30
            hint_text: 'a) Especialidade:'
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")
        
        MDTextField:
            id: atendente
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: '2. É atendente de caixa? '
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: escolaridade
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 30
            hint_text: 'a) Nível de escolaridade: '
            pos_hint: {'center_x': .5}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .42
        pos_hint: {'center_x': .25, 'center_y': .2}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'FINALIZAR CADASTRO'
        on_press:
            root.cadastrar()
            root.switchFuncionario()

    ButtonFocus:
        size_hint_x: .42
        pos_hint: {'center_x': .75, 'center_y': .2}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()


<BuscarFuncionario>:
    name: 'buscar_funcionario'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "BUSCA - FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.82}
        font_size: '18sp'
        color: get_color_from_hex("#000000")
        text: 'Preencha os dados do funcionário para\n realizar a busca. Caso não tenha um dos\n dados, apenas deixe o campo vazio.'

    MDTextField:
        id: codigo_estabelecimento
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .7}
        size_hint_x: .7
        mode: "rectangle"
        hint_text: 'Número do estabelecimento:'
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: nome
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .62}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 70
        hint_text: 'Nome do funcionário:'
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: cpf
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .54}
        size_hint_x: .7
        mode: "rectangle"
        max_text_length: 11
        hint_text: 'CPF do funcionário: '
        text_color: get_color_from_hex("#000000")

    Label:
        pos_hint : {"center_x":.5,"center_y":.42}
        font_size: '18sp'
        color: get_color_from_hex("#000000")
        text: 'Para as perguntas a seguir, responda "SIM"\ncaso afirmativo. Caso contrário, deixe o\ncampo vazio.'

    MDTextField:
        id: adm
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .3}
        size_hint_x: .7
        mode: "rectangle"
        hint_text: 'Buscar apenas os administradores?'
        text_color: get_color_from_hex("#000000")

    MDTextField:
        id: atendente
        multiline: False
        pos_hint: {'center_x': .5, 'center_y': .22}
        size_hint_x: .7
        mode: "rectangle"
        hint_text: 'Buscar apenas os atend. de caixa?'
        text_color: get_color_from_hex("#000000")


    MDFloatingActionButton:
        icon: "arrow-left-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.2,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()

    MDFloatingActionButton:
        icon: "arrow-right-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.8,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'right'
            root.buscar()
            root.switchTabela()


<TabelaBuscaFuncionario>:
    name: 'tabela_busca_funcionario'
    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "BUSCA - FUNCIONARIO"
        md_bg_color: toolbarColor

    MDFloatingActionButton:
        icon: "arrow-left-circle"
        md_bg_color: app.theme_cls.primary_color
        pos_hint : {"center_x":.2,"center_y":.1}
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()

<RemoverFuncionario>:
    name: 'remover_funcionario'
    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "REMOVER FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.8}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Preencha todos os campos abaixo para\n realizar a remoção do funcionário.'

    MDBoxLayout:
        orientation: "vertical"
        size_hint_x: .9
        size_hint_y: .8
        pos_hint: {'center_x': .5, 'center_y': .9}

        MDTextField:
            id: codigo_estabelecimento
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Número do estabelecimento: '
            pos_hint: {'center_x': .5, 'center_y': .8}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: cpf
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 11
            hint_text: 'CPF do funcionário: '
            pos_hint: {'center_x': .5, 'center_y': .7}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .3, 'center_y': .3}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'REMOVER'
        on_press:
            root.remover()
            root.switchFuncionario()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .7, 'center_y': .3}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()


<AlterarFuncionario>:
    name: 'alterar_funcionario'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "BUSCANDO FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.75}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Informe o CPF do funcionário que\ndeseja atualizar. Caso não o tenha,\nvocê poderá encontra-lo na página\n FUNCIONARIO, em "Buscar um\nfuncionario".'

    MDTextField:
        id: cpf
        multiline: False
        size_hint_x: .75
        mode: "rectangle"
        max_text_length: 11
        hint_text: 'CPF: '
        pos_hint: {'center_x': .5, 'center_y': .55}
        text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .28, 'center_y': .20}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'BUSCAR'
        on_press:
            root.recolherDados()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .73, 'center_y': .20}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()


<AlterarFuncionario2>:
    name: 'alterar_funcionario_2'

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 10
        title: "ALTERAR DADOS DO FUNCIONARIO"
        md_bg_color: toolbarColor

    Label:
        pos_hint : {"center_x":.5,"center_y":.8}
        font_size: '20sp'
        color: get_color_from_hex("#000000")
        text: 'Altere os dados do funcionario escolhido.\nCaso não queira atualizar um determinado\ncampo, apenas deixe-o vazio.'


    MDBoxLayout:
        orientation: "vertical"
        size_hint_x: .9
        size_hint_y: .8
        pos_hint: {'center_x': .5, 'center_y': .70}

        MDTextField:
            id: nome
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 70
            hint_text: 'Nome: '
            pos_hint: {'center_x': .5, 'center_y': .8}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: cpf
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 11
            hint_text: 'CPF: '
            pos_hint: {'center_x': .5, 'center_y': .7}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: salario
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            max_text_length: 10
            hint_text: 'Salário: '
            pos_hint: {'center_x': .5, 'center_y': .7}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: ferias
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Data da última ferias: <dd-mm-aaaa>'
            pos_hint: {'center_x': .5, 'center_y': .7}
            text_color: get_color_from_hex("#000000")

        MDTextField:
            id: codigo_estabelecimento
            multiline: False
            size_hint_x: .8
            mode: "rectangle"
            hint_text: 'Número do estabelecimento: '
            pos_hint: {'center_x': .5, 'center_y': .8}
            text_color: get_color_from_hex("#000000")

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .3, 'center_y': .20}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'ALTERAR'
        on_press:
            root.alterar()
            root.switchFuncionario()

    ButtonFocus:
        size_hint_x: .35
        pos_hint: {'center_x': .7, 'center_y': .20}
        md_bg_color: app.theme_cls.primary_light
        focus_color: get_color_from_hex("#e54c37")
        unfocus_color: app.theme_cls.primary_light
        text: 'CANCELAR'
        on_press:
            root.manager.transition.direction = 'right'
            root.switchFuncionario()
